- defaults:
    link:
      create: true
      relink: true

- create:
    - ~/.ssh
    - ~/.config
    - ~/projects

- clean: ["~"]

- shell:
    - [git submodule update --init --recursive, Installing submodules]
    - [cd data && git crypt unlock]

- link:
    ~/.tmux.conf: tmux/tmux.conf
    ~/.config/nvim: nvim
    ~/.on-my-zsh: zsh/on-my-zsh
    ~/.zshrc: zsh/.zshrc
    ~/.gitconfig: git/.gitconfig
    ~/projects/services: docker
    ~/projects/services/beancount/data: data/secret/beancount
    ~/.skm: data/secret/ssh_keys
    ~/.config/github-copilot: data/secret/github-copilot

- shell:
    - command: '[ -e /etc/hosts ] || sudo ln -s "$PWD/hosts/hosts" /etc/hosts'
