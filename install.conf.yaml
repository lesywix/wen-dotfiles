- defaults:
    link:
      create: true
      relink: true

- create:
    - ~/.config/tmux-powerline
    - ~/.config/zed
    - ~/.gnupg

- clean: ["~"]

- shell:
    - command: brew install fzf nvim bat fd tmux tpm git-delta git-extras git-crypt gpg htop gh lazygit lazydocker rclone glow jq hugo ag sing-box iredis yazi cloudflared telnet
      stdout: true
      stderr: true
    - command: brew install zsh-syntax-highlighting zsh-autosuggestions
      stdout: true
      stderr: true
    - command: brew install go node gopls ruff prettier pyenv corepack
      stdout: true
      stderr: true
    - command: brew install pinentry-mac # prompt enter gpg passphrase when required
      stdout: true
      stderr: true
    - command: brew install reattach-to-user-namespace # fix tmux copy-paste
      stdout: true
      stderr: true
    - command: brew install --cask git-credential-manager visual-studio-code zed proxyman tailscale codewhisperer cloudflare-warp stats orbstack sequel-ace fork iterm2 sfm dbeaver-community rapidapi redisinsight
      stdout: true
      stderr: true
    - command: brew install --cask hiddenbar numi menubarx google-drive telegram google-chrome raycast spotify bing-wallpaper obsidian wechat webull whatsapp lark feishu eudic snipaste
      stdout: true
      stderr: true
    - command: brew tap homebrew/cask-fonts && brew install font-hack-nerd-font
      stdout: true
      stderr: true
    - command: curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh # on-my-zsh
      # stdout: true
      # stderr: true
    - command: TARGET_DIR=$HOME/.oh-my-zsh/custom/plugins/git-open; git clone git@github.com:paulirish/git-open.git "$TARGET_DIR" 2> /dev/null || git -C "$TARGET_DIR" pull # git-open
      # stdout: true
      # stderr: true
    - command: curl -fLo nvim/pm/plug.vim --create-dirs https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim # vim-plug
      # stdout: true
      # stderr: true
    - command: go install golang.org/x/tools/cmd/goimports@latest
    - command: go install github.com/cosmtrek/air@latest

- link:
    ~/.tmux.conf: tmux/tmux.conf
    ~/.config/nvim: nvim
    ~/.config/zed/settings.json: zed/settings.json
    ~/.zshrc: zsh/.zshrc
    ~/.gitconfig: git/.gitconfig
    ~/docker: docker
    ~/.gnupg/gpg-agent.conf: gnupg/gpg-agent.conf
    ~/icloud: "~/Library/Mobile Documents/com~apple~CloudDocs"
    ~/.config/tmux-powerline/config.sh: tmux/tmux-powerline/config.sh
    ~/.config/tmux-powerline/themes: tmux/tmux-powerline/themes
